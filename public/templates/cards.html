<content padding="true" style="margin-top: 145px; background: #2F3648">

  <div class="flipcardContainer">
    <div class="list card" ng-repeat="user in users">

      <figure class="cardFront">

        <!-- Card Header -->
          <div class="item item-avatar">
            <img ng-src={{user.pic}} ng-click="backShown=!backShown">
            <h2>{{user.username}}</h2>
          </div>

          <!-- Card FRONT Body -->
          <div class="item item-body animate toggle" ng-if="!backShown" style="height:272px">
            <ul class="list">
              <li class="card-bar-container" style="border-top-left-radius: 5px; border-top-right-radius: 5px;">
                <div class="card-bar" ng-class="{true: 'winning', false: 'losing'}[currentUser.steps - user.steps > 0]" style="width: {{percentage.steps}}%;">
                </div>
                <div class="row">
                  <div class="col" style="padding: 0">Steps</div>
                  <div class="col stats" style="padding: 0">{{ user.steps }}</div>
                  <div class="col stats" style="padding: 0">{{ currentUser.steps - user.steps > 0 ? '+' : ''}}{{ currentUser.steps - user.steps | number:0 }}</div>
                </div>
              </li>
              <li class="card-bar-container">
                <div class="card-bar" ng-class="{true: 'winning', false: 'losing'}[currentUser.steps - user.steps > 0]" style="width: {{percentage.distance}}%;">
                </div>
                <div class="row">
                  <div class="col" style="padding: 0">Miles</div>
                  <div class="col stats" style="padding: 0">{{ user.distance }}</div>
                  <div class="col stats" style="padding: 0">{{ currentUser.distance - user.distance > 0 ? '+' : ''}}{{ currentUser.distance - user.distance | number:1 }}</div>
                </div>
              </li>
              <li class="card-bar-container" style="border-bottom-left-radius: 5px; border-bottom-right-radius: 5px;">
                <div class="card-bar" ng-class="{true: 'winning', false: 'losing'}[currentUser.steps - user.steps > 0]" style="width: {{percentage.calories}}%;">
                </div>
                <div class="row">
                  <div class="col" style="padding: 0">Calories</div>
                  <div class="col stats" style="padding: 0">{{ user.calories }}</div>
                  <div class="col stats" style="padding: 0">{{ currentUser.calories - user.calories > 0 ? '+' : ''}}{{ currentUser.calories - user.calories | number:0 }}</div>
                </div>
              </li>
            </ul>
          </div>


          <div class="item item-body chart animate toggle" ng-if="backShown">
            <slide-box>
              <slide ng-repeat="(statCategory, stat) in statCategories">
                <h3>{{statCategory}}</h3>
                <nvd3-line-chart
                  data="stat"
                  id="{{user.username}}{{statCategory}}Chart"
                  width="312"
                  height="190"
                  showXAxis="true"
                  showYAxis="true"
                  xAxisTickFormat="xAxisTickFormat()"
                  interpolate="basis"
                  margin="{left:30,top:30,bottom:24,right:14}"
                  showLegend="true"
                  isArea="true">
                  <svg></svg>
                </nvd3-line-chart>
              </slide>
            </slide-box>
          </div>

      </figure>




    </div>
  </div>

</content>
