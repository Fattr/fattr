<content padding="true" style="background: #2F3648">

  <div class="cards-contain">

    <div class="flipcardContainer">
      <div class="list card animate flip-in" ng-repeat="user in users">

        <figure class="cardFront">

            <!-- Card Header -->
            <div class="item item-avatar">
              <div class="row">
                <div class="col">
                  <img ng-src={{user.user.authData.fitbit.avatar}} >
                  <h2 style="font-family: 'Audiowide'">{{user.user.username}}</h2>
                </div>
                <div class="col">
                  <i class="fa fa-align-left fa-2x" 
                     ng-click="backShown=!backShown"
                     style="color: #0088ff; float: right"></i>
                </div>
              </div>
            </div>

            <!-- Card FRONT Body -->
            <div class="item item-body animate bouncy-slide-left" ng-if="!backShown" style="height:272px">
              <ul class="list">
                <li class="card-bar-container animate slide-top">
                  <div class="card-bar" ng-class="{true: 'winning', false: 'losing'}[currentUser.stats.steps - user.steps >= 0]" ng-style="calculateWidth(user, 'steps')">
                  </div>
                  <div class="row statrow">
                    <div class="col" style="font-weight: bold">Steps</div>
                    <div class="col stats">{{user.steps}}</div>
                    <div class="col stats">
                      {{currentUser.stats.steps - user.steps > 0 ? '+' : ''}}{{currentUser.stats.steps - user.steps | number:0}}
                    </div>
                  </div>
                </li>
                <li class="card-bar-container">
                  <div class="card-bar" ng-class="{true: 'winning', false: 'losing'}[currentUser.stats.distance - user.distance >= 0]" ng-style="calculateWidth(user, 'distance')">
                  </div>
                  <div class="row statrow">
                    <div class="col" style="font-weight: bold">Miles</div>
                    <div class="col stats">{{user.distance}}</div>
                    <div class="col stats">{{currentUser.stats.distance - user.distance > 0 ? '+' : ''}}{{currentUser.stats.distance - user.distance | number:2}}</div>
                  </div>
                </li>
                <li class="card-bar-container">
                  <div class="card-bar" ng-class="{true: 'winning', false: 'losing'}[currentUser.stats.veryActiveMinutes - user.veryActiveMinutes >= 0]" ng-style="calculateWidth(user, 'veryActiveMinutes')">
                  </div>
                  <div class="row statrow">
                    <div class="col" style="font-weight: bold">Active Minutes</div>
                    <div class="col stats">{{user.veryActiveMinutes}}</div>
                    <div class="col stats">{{currentUser.stats.veryActiveMinutes - user.veryActiveMinutes > 0 ? '+' : ''}}{{currentUser.stats.veryActiveMinutes - user.veryActiveMinutes | number:0}}</div>
                  </div>
                  <div class="row" style="border-top: 1px dashed #c0c0c0; margin-top: 5px">
                    <div class="col" style="color: #0088FF; font-size: 10px">Category</div>
                    <div class="col" style="color: #0088FF; font-size: 10px; text-align: right">Quantity</div>
                    <div class="col" style="color: #0088FF; font-size: 10px; text-align: right">Difference</div>
                  </div>
                </li>
              </ul>
            </div>


          <div class="item item-body chart animate toggle" ng-if="backShown">
            <slide-box>
              <slide ng-repeat="(statCategory, stat) in statCategories">
                <h3>{{statCategory}}</h3>
                <nvd3-line-chart
                  data="stat"
                  id="{{user.username}}{{statCategory}}Chart"
                  width="312"
                  height="190"
                  showXAxis="true"
                  showYAxis="true"
                  xAxisTickFormat="xAxisTickFormat()"
                  interpolate="basis"
                  margin="{left:30,top:30,bottom:24,right:14}"
                  showLegend="true"
                  isArea="true">
                  <svg></svg>
                </nvd3-line-chart>
              </slide>
            </slide-box>
          </div>

        </figure>
      </div>
    </div>
  </div>

</content>
