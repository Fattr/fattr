<view title="title">
  <div class="bar bar-header bar-stable">
    <a href="#/"
    class="button button-clear
    icon ion-chevron-left"></a>
    <h1 class="title">{{ title }}</h1>
  </div>
  <content has-header="false" has-tabs="false" padding="true" class="signup-margin">
    <!-- flash message -->
    <div class="flash animate-if" ng-if="signupLoginError">
      <span>{{ flashMessage }}</span>
      <i class="icon ion-close-round dismiss"
        ng-click="dismiss()"></i>
    </div>
    <form name="signupLoginForm" novalidate>
      <div class="list list-inset">

        <!-- email -->
        <label class="item item-input">
          <i class="icon ion-email"></i>
          <input type="text" name="email" placeholder="Email"
            required
            ng-model="user.email"
            ng-minlength="5"
            ng-maxlength="254">
            <i class="icon ion-checkmark-circled success" ng-show="inputValid(signupLoginForm.email)"></i>
            <i class="icon ion-close-circled error" ng-show="inputInvalid(signupLoginForm.email)"></i>
        </label>

        <!-- user name -->
        <label class="item item-input">
          <i class="icon ion-person"></i>
          <input type="text" name="username" placeholder="Username (12 chars max)" required
            ng-model="user.username"
            ng-minlength="3"
            ng-maxlength="12">
            <i class="icon ion-checkmark-circled success" ng-show="inputValid(signupLoginForm.username)"></i>
            <i class="icon ion-close-circled error" ng-show="inputInvalid(signupLoginForm.username)"></i>
        </label>

        <!-- user password -->
        <label class="item item-input label">
          <i class="icon ion-locked"></i>
          <input type="password" name="password" placeholder="Enter a password" required
            ng-model="user.password"
            ng-minlength="3">
            <i class="icon ion-checkmark-circled success" ng-show="inputValid(signupLoginForm.password)"></i>
            <i class="icon ion-close-circled error" ng-show="inputInvalid(signupLoginForm.password)"></i>
        </label>

        <button class="button button-block button-balanced"
          ng-click="submit(signupLoginForm)"
          ng-disabled="!(signupLoginForm.$dirty && signupLoginForm.$valid)">
          {{title}}
        </button>
        <div cg-busy="'loadingTracker'"></div>
      </div>
    </form>
  </content>
</view>
